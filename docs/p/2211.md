---
title: "【镜像法术机制详解】你，并不孤单！"
description: "从面板上看，镜像法术拥有不大的法术半径：3.5 格。它固然可以精确指定复制的单位；但也有可能放空导致浪费原本就很昂贵的法术空间。然后这位玩家就被请出了这个部落……"
module: posts-knowledge
canonical: /p/2211
featuredImg: /p/2211/封面4.jpg
authorId: asriel
lastCreated: 2021-08-25T08:43:18+08:00
lastUpdated: 2025-07-03T02:10:11+08:00
tags: clone-spell
---

<PostHistory>
2025-07-03 修订：对小雪怪等单位的人口数做修订，文章内容没有大改。<br>
2023-01-15 修订：优化个别表述，避免误导玩家。
</PostHistory>

本期详细讲解镜像法术的复制机制和常见用途，并回答玩家们的问题。

视频链接：https://www.bilibili.com/video/BV1VA411c7zo/

<Pic src="/p/2211/封面4.jpg" width="1920" height="1080" alt="镜像法术机制详解封面" :lazyLoading="false" />

## 镜像法术的基本属性

从面板上看，镜像法术拥有**不大的法术半径**：3.5 格。它固然可以**精确指定复制的单位**；但也有可能放空导致浪费原本就很昂贵的法术空间。

然后这位玩家就被请出了这个部落……

<Pic src="/p/2211/镜像面板.png" width="599" height="191" alt="镜像法术面板数据" caption="2021 年的镜像法术数据，有没有勾起你的回忆？" :lazyLoading="false" />

法术的**复制间隔为 0.3 秒**，如果选择复制 1 人口的兵种，40 人口的城堡就需要 12 秒。法术持续 18 秒，实际含义是**法术光环**持续的时间，如果提前复制完成，那么光环也会提前消失。法术的光环非常淡，有时候难以预料其消失。

镜像克隆的单位可以持续 30 秒，消失前 2 秒有提示。即使使用治疗或无敌也无法逆转其消逝。

<Pic src="/p/2211/01.jpg" width="502" height="322" alt="冰人消失前有闪烁效果" />

镜像可以复制“非独一无二”的生物单位，指的是在一场战斗中可以同时出现多个的单位。包括训练营生产的兵种，女巫召唤的骷髅，韩大狗爆开的小狗等。

那么独一无二，就指的是英雄、攻城载具、战宠。这些因为其独一无二性导致无法被复制。

<Pic src="/p/2211/02.jpg" width="498" height="371" alt="骷髅和超级亡灵可以被复制" />

镜像复制的数量取决于**该单位的占用空间**和**镜像法术剩余的复制人口**。训练营生产出的单位可以直接从面板上看出占用空间，而像小石人、小狗以及骷髅这些无法直接生产的单位可以从 [研究笔记](/p/268) 中查看，他们也是有自己的占用空间哦。

人类的本质是复读机，而镜像法术的本质则是一款劣质的复读机，这将在之后详细解释。

## 镜像法术的克隆机制

接下来是玩家最想知道的镜像克隆机制，求证过程和天鹰那期一样也犯过形而上学的错误。原先在 2019 年就写了初步的结论，但在 2021 年我想要重写它，使得其更易于理解。

现在的理论一共分为三句话：

1. 镜像法术按法术范围内单位出现的时间先后进行复制，最先出现的最先复制，法术剩余单位不足以复制此单位时跳过。
2. 当一个周期复制完成后若剩余人口未用尽，则重新按照“最先出现的最先复制”的原则继续下一周期的复制。
3. 新单位进入法术范围后，插入于复制队列的当前复制单位后，该单位只有在下一个周期才会复制。

第一句话首先明确了只有法术范围内的单位才可以被复制，法术范围外的是不可以的。其次“**最先出现的最先复制**”概括了整个镜像法术的复制逻辑——先来先服务，此算法被广泛应用如“先来先服务调度算法”。复制人口不足以复制此单位时则跳过，否则可能构成死锁。

<Pic src="/p/2211/03.jpg" width="906" height="453" alt="最先出现的最先复制" />

第二句话主要针对**范围内军队总占用空间过少**的情况，比如这里只有 1 野蛮人 1 弓箭手 1 亡灵 1 巨人，第一轮复制完成之后，将会循环进行第二轮，第三轮。直到剩余复制人口用尽或不足以复制下一个单位为止。

<Pic src="/p/2211/04.jpg" width="1045" height="545" alt="剩余复制" />

第三句话针对**新单位进入法术范围内**的情况，此时的复制队列将会受到影响，是可以临时插进去的。

插入方式：新单位进入法术范围后，插入于**复制队列的当前复制单位后**，该单位只有在**下一个周期**才会复制。

<Pic src="/p/2211/05.jpg" width="1087" height="488" alt="新插入的部队会在下一个周期复制" />

为了更彻底的解释，我将会使用一点计算机专业知识，看图即可。不懂也没关系，这个不能帮助你打出三星。

<Pic src="/p/2211/06.jpg" width="1215" height="651" alt="镜像法术复制原理可以设计为“带头节点的循环链表”。建表时，将法术范围内的所有“可复制单位”以出现时间升序排序 O(log_2 n)，再插入到链表中 O(n)……" />

很多时候复制人口会被浪费，尤其是大单位，如同海岛奇兵的运输船。而且被浪费的人口可不能像亡者召唤那样转换成步兵这样的基础单位。

每瓶镜像单独计算，两瓶 1 级的镜像法术不可以叠加使得其能够复制一条雷龙，但可以复制另一个镜像法术复制的单位，在有些情况下非常必要。

<Pic src="/p/2211/07.jpg" width="480" height="363" alt="两瓶 1 级镜像法术不能复制电龙" />

## 实战分析

欢迎来到镜像冲突，镜像法术常常被应用于实战中，被大佬玩出花来了。

奥迪流是当年红极一时的流派，其大名就来自 4 个镜像形成的奥迪 logo.

<Pic src="/p/2211/08.jpg" width="997" height="384" alt="四个镜像光环" />

奥迪流一般是在空中矿猪（大龙龙骑）的基础上，配上 3 - 4 镜像。援兵一定是飞艇带气球，也可以额外带大龙或者龙骑。

奥迪流绝大多数情况下都是复制气球。

<Pic src="/p/2211/09.jpg" width="1408" height="705" alt="奥迪流配兵" />

复制时机其实是灵活多变的，但根据部分战斗数据，可以概括为以下情况：

1、当核心建筑密集时，飞艇进中爆开，一次性下 3 - 4 镜像，扫荡核心，镜像之间距离大约 3 - 4 格左右，并且覆盖防御路线。

<Pic src="/p/2211/10.jpg" width="543" height="390" alt="镜像法术位置" />

2、当攻击关键目标的单位数量不够时下镜像补充，除了复制气球也可以复制龙，尤其是面对大本营。需要恰到好处的时机和细节掌握。

<Pic src="/p/2211/11.jpg" width="378" height="281" alt="面对关键建筑时可以下镜像复制气球" />

祝你三星！

没三星别来找我！

后来随着奥迪流的火热，越来越多的阵形开始不再核心扎堆，导致奥迪流的使用受限。

尤其是需要面对镜像带来的非常意外的情况，并不是真的有手就行。

评价：强度不错，但由于高风险，难以成为主流打法。

## 回答玩家们提出的奇妙问题

现在是时候回答玩家们提出的奇妙问题。

问题 1：网上传的飞艇加三瓶镜像可以打掉 1/3 的区域的防御，这个攻略可行性大吗？

回答 1：这就是大名鼎鼎的奥迪流，看阵形、打密集、高风险、高回报，也就翻车了 114 514 次。

问题 2：镜像法术的单位计算是释放瞬间计算还是持续时长计算？

回答 2：一开始复制 7 个气球后，只要有野蛮人进去，就利用了剩下 3 个人口，故答案是光环时长。

问题 3：镜像法术镜像的单位出现位置是随机的吗？还是有所规律？

回答 3：即使确保每次操作一致，但结局不一样，所以我们认为定义随机种子用的是 srand(time(NULL));，实际上是伪随机。

<Pic src="/p/2211/12.jpg" width="1205" height="523" alt="两次同样的操作得到了不同的结果" />

问题 4：被镜像的单位会重置攻击目标吗？

回答 4：根据设计，如果重置攻击目标，那么石头人会转而攻击左边的加农炮，但不会。所以答案为“否”。

<Pic src="/p/2211/13.jpg" width="430" height="330" alt="石头人被复制后并没有切换目标" />

问题 5：被冰冻的单位被镜像，镜像出的单位会继承冰冻效果吗？

回答 5：镜像是劣质复读机，其中一点体现在不能复读法术状态，冰冻是法术状态，所以不能被复读，也就是被复制的单位不会被冻住。

问题 6：女王的技能弓箭手可以复制吗？蛮王技能召唤出来的蛮子才能享受蛮王的狂暴，那给它镜像，单位能不能受到蛮王狂暴。

回答 6：弓箭手是可以复制的，但劣质复读机不能复制野蛮人的狂暴效果。

问题 7：镜像出来的超级兵还有技能吗（超蛮和超哥）

回答 7：这里列出了所有带战吼（放置后启动的能力）和亡语（死亡后启动的能力）的兵种，实验表明只有超蛮和超球的战吼不能正常工作。

<Pic src="/p/2211/战吼和亡语2.jpg" width="1920" height="1080" alt="镜像复制的超级兵有技能吗" />

问题 8：不懂就问，一瓶镜像法术是几瓶啊？

回答 8：1 瓶镜像法术里有 2 瓶小镜像法术，1 瓶小镜像法术里有 2 瓶小小镜像法术，1 瓶小小镜像法术里有 2 瓶小小小镜像法术，1 瓶小小小镜像法术里有 2 瓶小小小小镜像法术，一直下去……

问题 9：有个问题，1 瓶镜像复制 38 人口，复制气球 7 只剩下 3 人口，那我再丢一瓶的话。能多复制一只吗，多出来的这个 6 人口？

回答 9：每瓶法术单独计算，自然是不可以的。

问题 10：复制品的生命值是 100% 于原品吗？

回答 10：镜像法术是一款劣质复读机，它不能复读当前生命值和法术状态，30 秒后还会消失。当然，复制的军队也享受跟随权重和仇恨权重。

问题 11：复制品的存活时间？

回答 11：30 秒。

问题 12：复制的优先级是按什么判定？

回答 12：往上翻结论，简单概括“最先出现 最先复制”，新单位进入后按照第三条。

问题 13：先放镜像再出援军，那是优先复制第一个碰到的吗？

回答 13：确实如此，因为周期里只有 1 个野蛮人，随着单位多了，一切都复杂了。

<Pic src="/p/2211/14.jpg" width="409" height="283" alt="先出来的援军先复制" />

问题 14：请问老师！镜像能复制出几个女王？

回答 14：通过 [AE](https://en.wikipedia.org/wiki/Adobe_After_Effects) 技术，女王终于可以被复制了，但只能复制 1 个，镜像女王发射蓝色的镜像子弹，但因为一些小小的 bug 导致并没有伤害，所以在之后移除了这个设定。

问题 15：镜像部队出现的位置有何规律？不同单位镜像出现的位置是遵循一样的规律嘛？

回答 15：重复实验表明镜像复制的位置毫无规律，且不会因为城墙导致被限制在一个方格中。

问题 16：镜像复制无敌单位时是否继承无敌效果？

回答 16：无敌的本质还是法术效果，镜像不能复读。

问题 17：镜像法术被闲置多久后失效？也就是说，扔下法术却没有兵在里面，它过多久会失效？假如是 5 秒，那么 3 秒时复制了一条火龙，然后时间会不会重置？

回答 17：18 秒，只要法术光环还在，随时都可以复制。

问题 18：以下兵的复制单位是多少？骷髅、大宝宝、蝙蝠、小狗、小石头人。

回答 18：见下表（2025/07/02 修订）

<Table maxWidth="240px">

| 单位名称 | 人口数 |
|   :--   |   --:  |
| 骷髅兵 | 1 |
| 蝙蝠 | 1 |
| 小熔岩犬 | 1 |
| 小寒冰犬 | 1 |
| 小石头人 | 6 |
| 小火怪 | 1 |
| 大宝宝 | 10 |
| 小雪怪 | 2 |
| 雷电小雪怪 | 3 |

</Table>

<!-- <Pic src="/p/2211/占用人口.jpg" width="1920" height="1080" alt="派生兵种的复制人口" /> -->

问题 19：复制品的保质期会随镜像法术等级变化嘛？

回答 19：是个常量，30 秒。

问题 20：多种部队进入镜像的复制情况，（城堡援军是按下工程器开始计时还是释放工程器开始计时之类的。

回答 20：按照新单位进入镜像的方式处理，根据进入的时机和当前复制的单位决定，加入到下一个周期中。

问题 21：如果镜像法术投掷时已经有一些兵，那么复制循环如何排列？（猜想：按照单位从大到小，大的优先。）如果单位相同呢？比如巨人和气球。

回答 21：总体上按照下兵顺序复制。如果复制的是城堡里的兵，则先从城堡里出来的先复制。

问题 22：镜像法术复制出来的复制品纳入该法术循环吗？纳入别的镜像法术的复制循环吗？

回答 22：该镜像复制的单位可以加入其他镜像法术的复制周期，没有这个特性就没有奥迪流。

问题 23：兵进入复制区域后加入到复制循环，那么他出去后再回来，会不会被再次加入一遍？（猜想一：会。猜想二：每个兵只会被加入循环一次。）

回答 23：理应不行！但由于复制太快，难以实验。

问题 24：镜像会复制蝙蝠药水生成的蝙蝠吗？

回答 24：是可以，但为什么不扔 3 瓶蝙蝠法术呢？

<Pic src="/p/2211/15.jpg" width="631" height="419" alt="镜像法术可以复制蝙蝠" />

## 最后的总结

- 镜像法术的半径为 3.5 格，在此范围内的单位可以被复制，只要持续 18 秒的光环还在随时都可以复制，复制间隔 0.3 秒。
- 当剩余人口不足以复制此单位时则跳过，如果此人口用尽，光环立刻消失。
- 复制出来的单位持续 30 秒时间，消失前 2 秒会闪烁提示其即将消逝，治疗和无敌均无能为力。
- 镜像法术可能会浪费复制人口，且被浪费的人口并不能主动转换成基础单位。
- 实战中（奥迪流）的镜像一般用于扫荡核心或火力支援。此打法风险很高，切勿迷之自信。
- 镜像法术是劣质复读机，不能复读当前生命值百分比和法术效果，也包括超蛮和超球的技能。
- 镜像法术复制出的单位的位置会在法术光环范围内，但是完全随机的。
- 镜像法术复制出的单位是可以纳入其他镜像法术的，在奥迪流中非常关键。

镜像复制结论：

- 镜像法术按法术范围内单位出现的时间先后进行复制，最先出现的最先复制，法术剩余单位不足以复制此单位时跳过。
- 当一个周期复制完成后若剩余人口未用尽，则重新按照“最先出现的最先复制”的原则继续下一周期的复制。
- 新单位进入法术范围后，插入于复制队列的当前复制单位后，该单位只有在下一个周期才会复制。
- 把握镜像复制机制的难点在于把握周期。也就是周期里有哪些单位，按照什么顺序，以及新单位进入之后镜像当前复制的位置。

本课题从 2021 年 7 月 25 日立项，到 2021 年 8 月 25 日结题，历时一个月。

期间几乎每天都 24 点睡觉，辛苦地肝项目。

另外感谢各位带来的支持……

<Pic src="/p/2211/16.jpg" width="1410" height="793" alt="镜像法术机制项目致谢名单" />

以后再见~