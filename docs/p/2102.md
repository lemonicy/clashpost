---
title: "【天使】治疗机制详解（不含复杂函数关系）"
description: "一定有不少大佬沉迷于“天女”却遇到天使被勾引跑的现象，使得一场三星秀化为黑三秀。不必担心！本文对天使的机制进行部分讲解，让大家对天使有更深刻了解~首先直接列出本文章所有结论，如果您懒得看后面的研究过程，可以直接参考。"
module: posts-knowledge
canonical: /p/2102
featuredImg: /p/2102/13格健康半径-1.jpg
authorId: zdfzyq0929
lastCreated: 2022-01-20T14:09:40+08:00
lastUpdated: 2024-08-16T17:11:20+08:00
tags: healer
---

<PostHistory>
2024-08-16 修订：修改个别不严谨的表述。<br>
2022-01-23 修订：重新测量了天使【攻速】，更改了【衰减效应】相关内容。
</PostHistory>

一定有不少大佬沉迷于“天女”却遇到天使被勾引跑的现象，使得一场三星秀化为黑三秀。不必担心！本文对天使的机制进行部分讲解，让大家对天使有更深刻了解~

## 结论

首先直接列出本文章所有结论，如果您懒得看后面的研究过程，可以直接参考。但为了使结论明了，一些需要费口舌才能讲明白的复杂机制被轻描淡写带过了，详细还是见后文。

1、天使不能治疗攻城机器、飞在天上的兵、战宠。

2、人口单位为 1 的地面兵，天使**有时**会把他们忽略。具体条件见后文【二、天使的“触发”】。

3、**多个天使治疗同一目标，或天使和独角治疗同一目标时，天使或独角治疗量会有衰减。（目前认为疗伤法术不参与衰减，因为疗伤法术没有目标锁定）**

4、距天使 50 格以外的友军被天使忽视，天使不会跑去奶他们。

5、距天使 13 格内有可治疗友军时，13 格以外的所有兵被天使忽视；距天使 13 格以内有受伤的可治疗友军时，所有满血友军被忽视。其中，如果该友军人口单位为 1，会出现一些特殊情况，参见后文模块三的讲解。

6、天使判定目标以【群体】为单位，群体的范围约为 1.5 格 × 1.5 格。除了上面第 4、5 条两种情况，其余情况判断“天使去奶哪个群体”的机制较为复杂，暂时未研究，并且此机制在实战中参考价值不大（一般不会有人在战斗中进行过分地细节计算）。

7、天使每发出两发奶，就会重置一次治疗目标（根据实验测得【攻速】数据，目前认为每两发。详情见【一、治疗衰减效应】）。天使从冰冻状态解冻、从飓风陷阱中解脱、被治疗目标死亡时，也会重置目标。天使可以看见隐形的部队。判定是否转奶其他群体的因素有：**是否**受伤（注意是有没有受伤而不是受伤程度，只要不满血便一视同仁）、受伤可治疗军队的**人口、距离**。

8、当战宠的主人在场上的时候，天使不会主动去奶战宠。不过如果天使的奶溅射到战宠身上，战宠是可以回血的。另外，无论战宠的主人是否在场，独角都会奶战宠。

## 相关知识链接

1、【友军权重】：在安装包数据表里面，它叫“FriendlyGroupWeight”（英文名）。这个是兵种的隐藏属性，游戏中没有告诉玩家（因为没有必要）。这个属性被用在文章 [【大守护者详解系列】第二期：8 分钟讲完大守护者跟随攻击](/p/1748) 中，用来判定大守护者去跟随哪一边的友军。各兵种的友军权重如下：

<Pic src="/p/2102/Friendlygroupweight对照.png" width="665" height="678" alt="各兵种的友军权重" />

2、【人口单位】（人口）：部队占据兵营的空间位置，比如冰人是 15.

注意：以下兵种也有人口单位：

- 骷髅、蝙蝠，为 1；
- 英雄（不论等级）为 25；
- 战宠（不论等级）为 20；
- 攻城机器为 1.

## 一、治疗衰减效应

简述：医疗兵（包括天使、独角）治疗同一个目标时，治疗总量可能低于每个医疗兵治疗量之和。

表格来源：[数据查询 – 天使](/upgrade/0007-Healer)。

（↑ 此链接还包含天使的其他信息，包括基础属性）

<Table maxWidth="30rem">

| 天使总数 | 新增天使的治疗效益 | 总治疗效益 |
|   ----  |        ----       |    ----   |
|     1   |        100%       |    100%   |
|     2   |        100%       |    100%   |
|     3   |         90%       |   96.7%   |
|     4   |         90%       |     95%   |
|     5   |         70%       |     90%   |
|     6   |         40%       |   81.7%   |
|     7   |         10%       |   71.4%   |
|     8   |          0%       |   62.5%   |

</Table>

上表中，独角可以当做一个天使处理。

**特别注意：**

安装包中所给天使的【攻速】（即攻击间隔）是 0.7 秒，而实际测得天使每两发奶的间隔并不稳定，而是在 0.69 秒、0.82 秒这两个数字中横跳（0.69 可能是实验误差引起，实际可能仍然是 0.7）。也就是说，天使第一发奶与第二发奶相差 0.7 秒，第二发与第三发相差 0.82 秒，接着 0.7，0.82，0.7……这与安装包所给的“稳定0.7”相比，总治疗效果偏差。目前有实验测量数据表明，这种波动是天使重新判定目标浪费了 0.12 秒导致的，因为测量得出天使判定目标需要约 0.12 秒。由此得出结论“天使每两发奶重制一次目标，计算新目标需要时间 0.12 秒”。但是，每“发”奶的治疗量是确定的。在利用衰减数据表格（上表）中的数据计算衰减时，应以每发奶治疗量作为计算对象，而不应以每秒治疗量作为计算对象，否则将引起计算结果偏低，即衰减效应偏不明显，实际衰减比计算所得更厉害。

**为何网站中有一段时间删除了上图？**

答：研究人员对天使进行测试时，选取一段时间 t 测量“多天使的治疗总量”与“t × 每秒治疗值 × 天使数”进行对比，发现表格数据偏低（即实际削减更严重），认为表格数据有误，故予以删除。现在研究认为，这个偏差是由于重新判定的 0.12 秒导致的。天使在时间 t 内耽误了一些时间来判定目标，并没有如期把输出拉满，导致治疗偏低，即削减更严重。安装包给定“攻速 0.7”，我们暂且认为“攻速 ≠ 攻击间隔”，因为战场上兵种的其他行为也影响攻击间隔，比如天使重新判定目标；女王打完一个建筑走了 5 秒到下一个建筑，攻击间隔就成了 5 秒多。

## 二、天使的“触发”

（注：本模块不是重点，可以考虑跳过阅读。但为了完整性，还是稍加讲解。）

并不是每个兵都能享受天使的治疗的。先对几个名词进行定义，以方便讲解。

1、【可奶部队】：可能被天使奶的部队。也称“可奶军队”“可奶兵”。

2、【不可奶部队】：第 1 条中反之为不可奶。不可奶兵包括：所有空军（包括空中大守护者）、攻城机器（全部，不论在不在地上）。其他都是可奶部队。特别地，天使不会奶战宠，但独角可能会（跟随的英雄死亡后），且独角可以治疗空中部队。“可奶”“不可奶”均针对天使，不针对独角。

3、【小兵】：人口单位为 1 的部队，即野蛮人、弓箭手、哥布林和骷髅兵。骷髅兵包括骷髅法术召唤的和女巫召唤的。

4、【结队状态】（称“结伴状态”“抱团状态”也可，仅针对小兵而言）：距离小兵 1.5 格以内，还有其他可奶部队，那么这个小兵处于结队状态。

5、【掉队状态】（称“落单状态”“离队状态”也可，仅针对小兵而言）：与结队状态相反，如果距离小兵约 1.5 格以内，没有其他可奶部队，那么这个小兵处于掉队状态。

6、【存在感】：（专门针对小兵）如果一个小兵 A 被天使 B 忽视了，那么称 A 在天使 B 中没有存在感。

- 小兵是可奶部队，但有时可能被天使“忽视”。除了小兵以外的可奶部队，不会被天使忽视。
- 小兵在每个天使眼中的存在感不一定相同，也就是说，A 在天使 B 眼中有存在感，但在天使 C 中不一定有。
- 天使刚部署下来时，小兵对其来说存在感均为 0。天使重新判定目标时，会清空所有小兵的存在感。以下情况会导致天使重新判定目标：
    - 当前目标死亡或其他原因导致天使转奶；
    - 天使被（冰人）冻住，解冻后；
    - 天使被飓风陷阱吸住，飓风陷阱失效时（飓风陷阱失效时，所有被陷住的军队重新判定目标，和刚被部署出来一样）。
    - 天使每发出两发奶。

- **如何使小兵获得存在感？当他处于结队状态时即可（但小兵距离天使超过 50 格无效）**。根据上面几条，注意：如果小兵处于结队状态时，天使还没有被部署，或还处于冰冻状态，而等天使被部署或解冻时小兵又掉队了，那么获得存在感失败（原因：天使部署、解冻时，清空所有小兵在她眼里的存在感）。

## 三、判定目标机制

天使刚被部署下来时，或天使重新判定目标时，会去奶哪个群体（大小：约 1.5 格 × 1.5 格）呢？

首先有如下几种情况：

1、天使的【视力半径】是 50 格。**视力半径以外的兵，被天使忽视**。

<Pic src="/p/2102/拼图.png" width="518" height="266" alt="大于 50 格时，天使忽视石头人；小于 50 格时，天使看见石头人并转身进发。" />

2、天使的【健康半径】是 13 格。部队的是否受伤无疑是影响天使治疗对象的因素之一。**健康半径以内有符合条件的伤员时，其他所有满血兵被天使忽视。**（我们暂且把这个叫做“健康半径”，因为暂时想不出别的好名字来）

<Pic src="/p/2102/13格健康半径-1.jpg" width="703" height="527" alt="当石头人距离天使大约 13 格时，虽然石头人对天使很有吸引力，但天使还是奔向了伤员。" />

3、上一条中“符合条件的”是指什么？符合条件的包括：

- 所有人口单位 > 1 的可奶部队，且受伤（血量不满）的；
- 人口单位 = 1 的可奶部队受伤的，且同时距离他 1.5 格以内有其他受伤的可奶部队（如下图）。

<Pic src="/p/2102/伤员激活制-拼图.png" width="512" height="743" alt="当仅有 1 野蛮人受伤时，天使忽视伤员；两个野蛮人受伤时，天使没有忽视伤员。" />

**4、距天使 13 格内有可奶部队时，13 格以外的所有兵被天使忽视。**

下面开始探究——

- 友军权重<sup>*</sup>影响天使判定目标吗？

见下图，石头人的友军权重是 1000，女王是 2100。但天使距离女王更近些，反而去奶石头人，这可以说明，友军权重并不是天使判定目标的标准之一。

\*【友军权重】见上文“相关知识链接”部分。

<Pic src="/p/2102/奶石头.png" width="517" height="462" alt="天使去奶石头人了" />

- 最大生命值影响天使判定目标吗？

分析上个实验，为什么天使离女王更近，反而去奶石头？不难发现，石头人最大生命值比女王大。不过见下图实验，左边是 7 级巨人，右边是 1 级巨人，血量相差 980，但是天使被下在中间时，去奶两边的倾向基本相等，这说明两个巨人对天使的吸引力是差不多的，因此最大生命值也不是影响因素。

<Pic src="/p/2102/生命值无影响.png" width="669" height="574" alt="两个不同等级的巨人，生命值相差很大，但天使去奶他们的倾向相差不大。" />

- 人口单位影响天使判定目标吗？

多组实验表明，实际权重与人口单位有关。石头人 30，女王 25，因此在距离相差不是很大的情况下，天使奔向了石头人。

- 距离影响天使判定目标吗？

这是必然的，但具体的函数关系还有待研究。

- 受伤程度影响天使判定目标吗？

实验表明，天使不看部队掉了多少血、掉了多少比例血，只看他们的血是不是满的。

## 四、相关建议

针对上述机制，对各位使用【天女】或【天咏】开局的玩家们提几点建议——

1. 尽量不要在王满血的时候下天使，特别是边上还有其他部队。当女王满血、天使13格以内有伤员时，天使会被拐跑。
2. 每个王天使数量不宜超过5个，否则其治疗量衰减严重。考虑到天使在战斗中会遭到不幸，数量也不建议低于4。
3. 别忘了把咏王调成地面模式！

致谢：（网站/B 站用户）拥抱鲜花的小羊